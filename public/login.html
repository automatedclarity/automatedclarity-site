<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ACX â€¢ Login</title>
<style>
  body{background:#0b1220;color:#e6edf6;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;margin:0;display:grid;place-items:center;height:100dvh}
  .card{background:#0f1629;border:1px solid #1c2640;border-radius:14px;padding:24px;min-width:320px}
  input,button{font:inherit}
  input{width:100%;background:#0b1220;border:1px solid #1c2640;border-radius:10px;color:#e6edf6;padding:10px}
  button{margin-top:12px;width:100%;background:#1b69ff;color:white;border:0;border-radius:10px;padding:10px;font-weight:700;cursor:pointer}
  .muted{color:#9fb0cc;font-size:12px;margin-top:8px;text-align:center}
</style>
</head>
<body>
  <div class="card">
    <h3 style="margin:0 0 8px">ACX Dashboard Login</h3>
    <form id="f">
      <input id="pw" type="password" placeholder="Password" autocomplete="current-password" />
      <button>Sign in</button>
    </form>
    <div class="muted">Protected access</div>
  </div>
<script>
document.getElementById('f').addEventListener('submit', async (e)=>{
  e.preventDefault();
  const password = document.getElementById('pw').value;
  const r = await fetch('/.netlify/functions/auth-login', {
    method:'POST',
    headers:{'Content-Type':'application/json'},
    body: JSON.stringify({ password }),
    credentials: 'same-origin'
  });
  if(!r.ok){ alert('Invalid password'); return; }
  location.href = '/matrix';
});
</script>
</body>
</html>
